---
import Layout from '../../layouts/Layout.astro';
import Icon from 'astro-icon';
---

<Layout title="WizMind S Series | Network Cameras">
  <!-- Product Information Section -->
  <section class="py-20 bg-gradient-to-b from-yellow-50 to-white">
    <div class="container mx-auto px-4">
      <div class="max-w-6xl mx-auto">
        <h1 class="text-4xl font-bold text-gray-900 mb-8">WizMind S Series</h1>

        <!-- Header Image Section -->
        <div class="w-full mb-12 rounded-lg overflow-hidden shadow-lg">
          <img
            src="/src/assets/proSeries/heroimg.jpg"
            alt="WizMind S Series Surveillance"
            class="w-full h-[400px] object-cover"
          />
        </div>

        <!-- Overview Section -->
        <div class="text-center mb-16">
          <h2 class="text-3xl font-bold mb-4">Overview</h2>
          <p class="max-w-4xl mx-auto text-gray-700">
            Driven by deep learning algorithms, Dahua WizMind S Series network camera offers a variety of intelligent functions that greatly improve the accuracy of audio and video analysis. It supports video metadata, smart sound detection, face detection, perimeter protection, people counting and more. The camera also adopts advanced image processing AI-Powered Image technology and has the Deeplight night vision effect. The camera is dustproof, waterproof and vandal-proof, and is certified with IP67 and IK10 protection ratings (may vary depending on the model).
          </p>
        </div>

        <!-- Key Features Section -->
        <div class="text-center mb-16">
          <h2 class="text-3xl font-bold mb-12">Key Features</h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-12 max-w-6xl mx-auto">
            <!-- Feature 1 -->
            <div class="flex flex-col items-center">
              <div class="bg-gray-100 rounded-full p-6 mb-4">
                <img src="https://material.dahuasecurity.com/asset/upload/uploads/image/20230207/20230207160137_96122.png" alt="Excellent Image Effect Icon" class="w-12 h-12" />
              </div>
              <h3 class="text-xl font-bold mb-3">Excellent Image Effect</h3>
              <p class="text-gray-700">
                Realized through an array of image-enhancing technologies that meet complex challenges of security scenarios.
              </p>
            </div>

            <!-- Feature 2 -->
            <div class="flex flex-col items-center">
              <div class="bg-gray-100 rounded-full p-6 mb-4">
                <img src="https://www.dahuasecurity.com/asset/upload/uploads/image/20230207/20230207155432_66941.png" alt="Multiple AI Functions Icon" class="w-12 h-12" />
              </div>
              <h3 class="text-xl font-bold mb-3">Multiple AI Functions</h3>
              <p class="text-gray-700">
                With exceptional analytical capabilities, the AI functions of IPC WizMind S series can fully support business practices and public management.
              </p>
            </div>

            <!-- Feature 3 -->
            <div class="flex flex-col items-center">
              <div class="bg-gray-100 rounded-full p-6 mb-4">
                <img class="w-12 h-12" src="https://material.dahuasecurity.com/asset/upload/uploads/image/20230207/20230207160150_38026.png" alt="Icon" />
               
              </div>
              <h3 class="text-xl font-bold mb-3">Credible Adaptability</h3>
              <p class="text-gray-700">
                Continuous operation. Extensive use. Full-time and full-scale shield guaranteed.
              </p>
            </div>

            <!-- Feature 4 -->
            <div class="flex flex-col items-center">
              <div class="bg-gray-100 rounded-full p-6 mb-4">
                <img class="w-12 h-12" src="https://material.dahuasecurity.com/asset/upload/uploads/image/20230207/20230207160207_19266.png" alt="Address Icon" />
              </div>
              <h3 class="text-xl font-bold mb-3">Plastic-free Packaging</h3>
              <p class="text-gray-700">
                Reliable. Economic. 100% Recyclable. We are doing more to consume less.
              </p>
            </div>
          </div>
        </div>

        <!-- Product Categories Tabs -->
        <div class="mb-12">
          <div class="flex flex-wrap space-x-4 border-b border-gray-200">
            {['8MP', '5MP', '4MP', '2MP'].map((category, index) => (
              <button
                class={`category-btn px-6 py-3 text-sm font-medium transition-colors duration-200 ${index === 0 ? 'text-yellow-600 border-b-2 border-yellow-600' : 'text-gray-600 hover:text-yellow-600'}`}
                data-category={category}
                onclick="showCategory(event)"
              >
                {category}
              </button>
            ))}
          </div>
        </div>

        <!-- Product Grid -->
        <div class="product-grid flex flex-wrap gap-4 justify-center"></div>
      </div>
    </div>
  </section>
</Layout>

<style>
  /* Add smooth scrolling */
  html {
    scroll-behavior: smooth;
  }
</style>

<script>
  const products = [
    // Products for 8MP category
    ...Array.from({ length: 12 }, (_, i) => ({
      id: `8MP-${i + 1}`,
      name: `8MP WizMind S Camera ${i + 1}`,
      image: `/src/assets/WizMindSSeries/8mp${i + 1}.png`,
      category: '8MP'
    })),
    // Products for 5MP category
    ...Array.from({ length: 12 }, (_, i) => ({
      id: `5MP-${i + 1}`,
      name: `5MP WizMind S Camera ${i + 1}`,
      image: `/src/assets/WizMindSSeries/5mp${i + 1}.png`,
      category: '5MP'
    })),
    // Products for 4MP category
    ...Array.from({ length: 12 }, (_, i) => ({
      id: `4MP-${i + 1}`,
      name: `4MP WizMind S Camera ${i + 1}`,
      image: `/src/assets/WizMindSSeries/4mp${i + 1}.png`,
      category: '4MP'
    })),
    // Products for 2MP category
    ...Array.from({ length: 12 }, (_, i) => ({
      id: `2MP-${i + 1}`,
      name: `2MP WizMind S Camera ${i + 1}`,
      image: `/src/assets/WizMindSSeries/2mp${i + 1}.png`,
      category: '2MP'
    }))
  ];

  // Declare showCategory on the window object
  declare global {
    interface Window {
      showCategory: (event: Event) => void;
    }
  }

  // Function to handle category button click
  function showCategory(event: Event) {
    const target = event.target as HTMLElement;
    if (!target) return;
    const category = target.dataset.category;
    if (category) {
      currentCategory = category;
    }

    // Update UI for category buttons
    document.querySelectorAll('.category-btn').forEach(btn => {
      btn.classList.remove('text-yellow-600', 'border-b-2', 'border-yellow-600');
      btn.classList.add('text-gray-600');
    });
    target.classList.add('text-yellow-600', 'border-b-2', 'border-yellow-600');

    filterProducts();
  }

  // Bind showCategory function to the window object
  window.showCategory = showCategory;

  let currentCategory = '8MP';

  // Function to filter products based on current category
  function filterProducts() {
    const filteredProducts = products.filter(product => product.category === currentCategory);
    updateProductGrid(filteredProducts);
  }

  // Function to update the product grid with filtered products
  function updateProductGrid(productList: { id: string; name: string; image: string; category: string }[]) {
    const productGrid = document.querySelector('.product-grid');
    if (productGrid) {
      productGrid.innerHTML = productList.map(product => `
        <div class="flex-shrink-0 w-[300px] bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-all duration-300 relative">
          <!-- CCTV Icon -->
          <div class="absolute top-2 right-2 flex gap-1.5">
            <Icon name="cctv" class="w-5 h-5" />
          </div>
          
          <div class="p-4">
            <div class="aspect-square bg-gray-50 rounded-lg mb-4 flex items-center justify-center">
              <img 
                src="${product.image}" 
                alt="${product.name}"
                class="object-contain h-40 w-40 hover:scale-110 transition-transform duration-500"
              />
            </div>
            <div class="space-y-2">
              <h3 class="text-lg font-bold text-gray-900">${product.id}</h3>
              <p class="text-gray-600 text-sm line-clamp-3">${product.name}</p>
              <a 
                href="/products/${product.id}"
                target="_blank"
                rel="noopener noreferrer"
                class="inline-flex items-center gap-2 text-sm text-yellow-600 hover:text-yellow-700 mt-2 group"
              >
                View Details
                <svg class="w-4 h-4 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
              </a>
            </div>
          </div>
        </div>
      `).join('');
    }
  }

  // Add event listener initialization when the document loads
  document.addEventListener('DOMContentLoaded', () => {
    // Add click event listeners to category buttons
    document.querySelectorAll('.category-btn').forEach(btn => {
      btn.addEventListener('click', (event) => window.showCategory(event));
    });

    // Initial filter to show default products
    filterProducts();
  });
</script>